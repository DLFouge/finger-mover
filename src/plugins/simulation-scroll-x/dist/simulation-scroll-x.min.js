/*!
 * simulation-scroll-x.min.js v1.4.2
 * (c) 2018 HcySunYang
 * Released under the MIT License.
 */!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.simulationScrollX=t()}(this,function(){"use strict";return function(n){return function(t){function e(n,t){if(b)return void s(b,"width: "+t+"px;");b=document.createElement("span"),s(b,"\n                position: absolute;\n                z-index: 10000000;\n                left:0;\n                bottom: 3px;\n                height: 3px; \n                width: "+t+"px; \n                background-color: #000;\n                opacity: 0;\n                border-radius: 1.5px;\n                transition: opacity .2s;\n                -webkit-transition: opacity .2s;\n            "),"static"===a(n,"position")&&s(n,"position: relative;"),n.appendChild(b)}function o(n){var t=n,e=0;t<X?(e=4*(X-t),e>M-S&&(e=M-S),t=X):t>T&&(e=4*(t-T),e>M-S&&(e=M-S),t=T+e);var o=M-e;b.style.width=o+"px",w.transform(b,"translateX",t)}var r=t.Moved,a=t.getStyle,i=t.extend,s=t.cssText,c=t.getRelativeRect,l=t.isInElement,u=t.throwError,f=function(){},p=i({scrollBar:!0,bounce:!0,onTouchMove:f,onTransMove:f,onTransMoveEnd:f,onMotionStop:f},n),d=null,m=null,h=0,v=0,g=0,b=null,M=0,S=7,x=0,y=0,X=0,T=0,w=new r,k=0,B=0,E=0,O="easeOutStrong",I=0,z=!1,C=!1;return{init:function(n){d=n.el,m=d.parentNode,"static"===a(d,"position")&&s(d,"position: relative; z-index: 10;"),this.refreshSize()},start:function(n){n.fingers[0];O="easeOutStrong",z=!1,C=!1,w.stop(function(n){k=n.translateX,p.onMotionStop(k)})},move:function(n){if("start"===w.moveStatus)return!1;var t=n.fingers[0],e=t.fingerInElement;if(B=k+t.distanceX,!e)return C||(C=!0,this.makeMove(t)),!1;B>x||y>0?B=p.bounce?.5*B:x:B<y&&(B=p.bounce?y+.5*(B-y):y),w.transform(t.el,"translateX",B),p.scrollBar&&(s(b,"opacity: .4;"),o(-B*g)),p.onTouchMove.call(this,n)},end:function(n){var t=n.fingers[0],e=n.changeFingerIndex,o=n.fingerNumber,r=t.fingerInElement;0===e&&0===o&&r&&this.makeMove(t)},cancel:function(n){var t=n.fingers[0],e=n.changeFingerIndex,o=n.fingerNumber,r=t.fingerInElement;0===e&&0===o&&r&&(k+=t.distanceX)},makeMove:function(n){function t(t){var o=Math.abs(t-k)/Math.abs(n.transDistanceY)*n.transTime;return o<500?(o=500,e=2):o>2e3&&(o=2e3),o}var e;I=n.transTime,k=B,E=k+n.transDistanceX,k>x||y>0?(E=x,O="easeOutStrong",I=p.bounce?500:n.transTime,z=!0):k<y?(E=y,O="easeOutStrong",I=p.bounce?500:n.transTime,z=!0):E<y?p.bounce?(E=y,O="backOut",I=t(y)):O="easeOutStrong":E>x&&(p.bounce?(E=x,O="backOut",I=t(x)):O="easeOutStrong"),Math.abs(n.transDistanceX)>100||z?this.wrapMove(E,I,O,e):p.scrollBar&&s(b,"opacity: 0;")},wrapMove:function(n,t,e,r){w.start({el:d,target:{translateX:n},type:e,time:t,s:r,inCallBack:function(n){k=n.translateX,p.bounce||(k>=x&&w.stop(function(n){k=x,w.transform(d,"translateX",k)}),k<=y&&w.stop(function(n){k=y,w.transform(d,"translateX",y)})),p.scrollBar&&o(-n.translateX*g),p.onTransMove.call(this,k)},endCallBack:function(n){k=n.translateX,p.onTransMoveEnd.call(this,k),p.onMotionStop(k),p.scrollBar&&s(b,"opacity: 0;")}})},scrollTo:function(n,t,e){var o;"string"==typeof n?o=document.querySelector(n):n instanceof Element&&(o=n),o&&(l(d,o)||u("ScrollTo function argument error, `child` must be a child of `parent`"),n=-c(d,o).left),e&&n>=x?n=x:e&&y<0&&n<y?n=y:e&&y>=0&&(n=x),k=n,this.wrapMove(n,t,"easeOutStrong")},refreshSize:function(){h=parseFloat(a(d,"width")),v=m.clientWidth,y=v-h,x=0,y>0&&(p.scrollBar=!1),p.scrollBar&&(g=v/h,M=v*g,S=M<S?M:S,X=-x*g,T=-y*g,e(m,M))}}}}});