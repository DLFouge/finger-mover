/*!
 * fmover-slide-x.min.js v1.4.2
 * (c) 2018 HcySunYang
 * Released under the MIT License.
 */!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.fmoverSlideX=e()}(this,function(){"use strict";return function(t){return function(e){var n=e.Moved,i=e.getStyle,o=e.extend,r=e.cssText,a=(e.getRelativeRect,e.isInElement,e.throwError,e.toArray),s={left:"left",right:"right"},l=null,h=null,d=null,c=0,u=0,f=0,x=0,p=0,v=0,g=new n,m=0,I=!1,y=null,b=!1,C=!1,S=function(){},X=o({startSlide:1,autoplay:0,autoplayDir:s.left,loop:!0,times:500,bounce:!0,touchable:!0,onInit:S,onTouchStart:S,onTouchMove:S,onTouchEnd:S,onTransStart:S,onTransMove:S,onTransEnd:S,onChangeStart:S,onChange:S,onChangeEnd:S,onRefresh:S},t);return{index:1,get slideIndex(){return this.redressIndex(this.index)},get slideNumber(){return c},init:function(t){l=t.el,h=l.parentNode,this.refreshWrap(!0),X.onInit.call(this)},start:function(t){if(0!==t.changeFingerIndex||!X.touchable)return!1;I=!1,C=!1,clearInterval(y),g.stop(function(t){p=t.translateX}),X.autoplay&&clearInterval(y),this.index>c?(p+=c*f,this.index=1):0===this.index&&(this.index=c,p-=c*f),g.transform(l,"translateX",p),X.onTouchStart.call(this,p)},move:function(t){var e=t.fingers[0];return!!X.touchable&&(e.fingerInElement?(v=p+e.distanceX,X.loop||(v>0?v=X.bounce?.5*v:0:v<m&&(v=X.bounce?m+.5*(v-m):m)),g.transform(l,"translateX",v),void X.onTouchMove.call(this,v,f,this.slideNumber)):(I||(I=!0,this.wrapMove(e),X.autoplay&&(clearInterval(y),this.initAutoplay()),X.onTouchEnd.call(this)),!1))},end:function(t){var e=t.fingers[0];if(!e.fingerInElement||0!==t.changeFingerIndex||0!==t.fingerNumber||!X.touchable)return!1;p=v,this.wrapMove(e),X.autoplay&&(clearInterval(y),this.initAutoplay()),X.onTouchEnd.call(this)},cancel:function(t){if(!X.touchable)return!1;X.autoplay&&(clearInterval(y),this.initAutoplay()),this.makeMove()},refresh:function(t){this.refreshWrap(t),X.onRefresh.call(this,c)},refreshWrap:function(t){if(t&&g&&g.stop(function(){b=!1}),a(l.querySelectorAll("[clone=true]")).forEach(function(t){t.parentNode.removeChild(t)}),d=a(l.children),c=d.length,f=parseInt(i(h,"width")),this.index=t?this.limitIndex(X.startSlide):this.limitIndex(this.index),X.loop){var e=d[0],n=d[c-1],o=e.cloneNode(!0);o.setAttribute("clone",!0);var s=n.cloneNode(!0);s.setAttribute("clone",!0),l.appendChild(o),l.insertBefore(s,l.firstElementChild),d.push(o),d.unshift(s),p=-this.index*f}else p=-(this.index-1)*f;u=d.length,x=f*u,X.loop||(m=-(x-f)),r(h,"overflow: hidden;"),r(l,"width: "+x+"px; height: 100%; overflow: hidden;"),g.transform(l,"translateX",p),d.forEach(function(t,e,n){r(t,"height: 100%; width: "+f+"px; float: left;")}),X.autoplay&&(clearInterval(y),this.initAutoplay())},prev:function(){if(b)return!1;b=!0,this.index--,X.loop||0!==this.index||(this.index=c),this.onChangeStart(this.redressIndex(this.index),s.left),this.makeMove()},next:function(){if(b)return!1;b=!0,this.index++,!X.loop&&this.index>c&&(this.index=1),this.onChangeStart(this.redressIndex(this.index),s.right),this.makeMove()},slideTo:function(t,e){if(b||this.slideIndex===t)return!1;if(b=!0,this.index!==t){var n=this.index>t?s.right:s.left;this.index=this.limitIndex(t),this.onChangeStart(this.redressIndex(this.index),n),this.makeMove(e)}},initAutoplay:function(){var t=this;y=setInterval(function(){X.autoplayDir===s.left?t.next():t.prev()},X.autoplay)},wrapMove:function(t){var e=X.loop||!X.loop&&this.index!==c,n=X.loop||!X.loop&&1!==this.index;e&&t.direction.left&&Math.abs(t.xv)>.5&&t.distanceX<0||e&&t.distanceX<-f/2?(this.index++,this.onChangeStart(this.redressIndex(this.index),s.left)):(n&&t.direction.right&&Math.abs(t.xv)>.5&&t.distanceX>0||n&&t.distanceX>f/2)&&(this.index--,this.onChangeStart(this.redressIndex(this.index),s.right)),this.makeMove()},makeMove:function(t){var e=this;X.onTransStart.call(this,p),X.loop?(this.index<0?this.index=0:this.index>c+1&&(this.index=c+1),p=-this.index*f):(this.index<1?this.index=1:this.index>c&&(this.index=c),p=-(this.index-1)*f),g.start({el:l,target:{translateX:p},inCallBack:function(t){X.onTransMove.call(e,t.translateX,f,e.slideNumber),C&&X.onChange.call(e,t.translateX)},endCallBack:function(t){b=!1,X.loop&&e.index>c?(p+=c*f,g.transform(l,"translateX",p),e.index=1):X.loop&&0===e.index&&(e.index=c,p-=c*f,g.transform(l,"translateX",p)),X.onTransEnd.call(e,t.translateX),C&&X.onChangeEnd.call(e,t.translateX)},time:void 0===t?X.times:t})},onChangeStart:function(t,e){C=!0,X.onChangeStart.call(this,t,e)},redressIndex:function(t){return 0===t?c:t>c?1:t},limitIndex:function(t){return t>c?c:t<1?1:t},destroy:function(){clearInterval(y)}}}}});